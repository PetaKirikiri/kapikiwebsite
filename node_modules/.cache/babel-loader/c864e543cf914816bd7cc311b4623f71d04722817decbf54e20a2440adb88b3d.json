{"ast":null,"code":"import { auth } from \"../firebase\";\nconst SENDER_EMAIL = \"peta@kapiki.co.nz\";\nfunction createMessage(to, bcc, subject, messageText) {\n  const str = [\"From: \" + SENDER_EMAIL, \"To: \" + to, \"Bcc: \" + bcc.join(\",\"), \"Subject: \" + subject, \"\", messageText].join(\"\\n\");\n  const encodedMessage = btoa(str).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+$/, \"\");\n  return encodedMessage;\n}\nasync function getAccessToken() {\n  const user = auth.currentUser;\n  if (!user) {\n    throw new Error(\"User not authenticated\");\n  }\n  return await user.getIdToken();\n}\nexport async function sendEmail(recipientEmails, subject, messageText) {\n  throw new Error(\"Email functionality is not yet implemented. This feature will be available soon.\");\n}","map":{"version":3,"names":["auth","SENDER_EMAIL","createMessage","to","bcc","subject","messageText","str","join","encodedMessage","btoa","replace","getAccessToken","user","currentUser","Error","getIdToken","sendEmail","recipientEmails"],"sources":["/Users/petakirikiri/Coding/Ka Piki/src/services/emailService.js"],"sourcesContent":["import { auth } from \"../firebase\";\n\nconst SENDER_EMAIL = \"peta@kapiki.co.nz\";\n\nfunction createMessage(to, bcc, subject, messageText) {\n  const str = [\n    \"From: \" + SENDER_EMAIL,\n    \"To: \" + to,\n    \"Bcc: \" + bcc.join(\",\"),\n    \"Subject: \" + subject,\n    \"\",\n    messageText,\n  ].join(\"\\n\");\n\n  const encodedMessage = btoa(str)\n    .replace(/\\+/g, \"-\")\n    .replace(/\\//g, \"_\")\n    .replace(/=+$/, \"\");\n\n  return encodedMessage;\n}\n\nasync function getAccessToken() {\n  const user = auth.currentUser;\n  if (!user) {\n    throw new Error(\"User not authenticated\");\n  }\n  return await user.getIdToken();\n}\n\nexport async function sendEmail(recipientEmails, subject, messageText) {\n  throw new Error(\n    \"Email functionality is not yet implemented. This feature will be available soon.\"\n  );\n}\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,aAAa;AAElC,MAAMC,YAAY,GAAG,mBAAmB;AAExC,SAASC,aAAaA,CAACC,EAAE,EAAEC,GAAG,EAAEC,OAAO,EAAEC,WAAW,EAAE;EACpD,MAAMC,GAAG,GAAG,CACV,QAAQ,GAAGN,YAAY,EACvB,MAAM,GAAGE,EAAE,EACX,OAAO,GAAGC,GAAG,CAACI,IAAI,CAAC,GAAG,CAAC,EACvB,WAAW,GAAGH,OAAO,EACrB,EAAE,EACFC,WAAW,CACZ,CAACE,IAAI,CAAC,IAAI,CAAC;EAEZ,MAAMC,cAAc,GAAGC,IAAI,CAACH,GAAG,CAAC,CAC7BI,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CACnBA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CACnBA,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EAErB,OAAOF,cAAc;AACvB;AAEA,eAAeG,cAAcA,CAAA,EAAG;EAC9B,MAAMC,IAAI,GAAGb,IAAI,CAACc,WAAW;EAC7B,IAAI,CAACD,IAAI,EAAE;IACT,MAAM,IAAIE,KAAK,CAAC,wBAAwB,CAAC;EAC3C;EACA,OAAO,MAAMF,IAAI,CAACG,UAAU,CAAC,CAAC;AAChC;AAEA,OAAO,eAAeC,SAASA,CAACC,eAAe,EAAEb,OAAO,EAAEC,WAAW,EAAE;EACrE,MAAM,IAAIS,KAAK,CACb,kFACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}